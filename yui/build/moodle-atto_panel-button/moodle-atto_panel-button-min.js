YUI.add("moodle-atto_panel-button",function(i,t){var o="atto_panel",e="panel_link",n={INPUTSUBMIT:"atto_media_urlentrysubmit",INPUTCANCEL:"atto_media_urlentrycancel",CONTENTCONTROL:"CONTENTCONTROL"},a=".CONTENTCONTROL";i.namespace("M.atto_panel").Button=i.Base.create("button",i.M.editor_atto.EditorPlugin,[],{initializer:function(){this.addButton({icon:"icon",iconComponent:"atto_panel",callback:this._displayDialogue})},_getCONTENTCONTROLName:function(){return this.get("host").get("elementid")+"_"+e},_displayDialogue:function(t){var e,n;t.preventDefault(),"800px"!==(t=this.getDialogue({headerContent:M.util.get_string("dialogtitle",o),width:"800px",focusAfterHide:!0})).width&&t.set("width","800px"),e=this._getFormContent(),(n=i.Node.create("<div></div>")).append(e),t.set("bodyContent",n),t.show(),this.markUpdated()},_getFormContent:function(){var t=i.Handlebars.compile('<form class="atto_form"><div id="{{elementid}}_{{innerform}}" class="mdl-align"><label for="{{elementid}}_{{CONTENTCONTROL}}">{{get_string "content" component}}</label><input class="{{CSS.CONTENTCONTROL}}" id="{{elementid}}_{{CONTENTCONTROL}}" name="{{elementid}}_{{CONTENTCONTROL}}" value="{{defaultcontent}}" /><br /><br /><button class="{{CSS.INPUTSUBMIT}}">{{get_string "insert" component}}</button></div></form>'),t=i.Node.create(t({elementid:this.get("host").get("elementid"),CSS:n,CONTENTCONTROL:e,component:o}));return this._form=t,this._form.one("."+n.INPUTSUBMIT).on("click",this._doInsert,this),t},_doInsert:function(t){t.preventDefault(),this.getDialogue({focusAfterHide:null}).hide(),t=this._form.one(a).get("value"),t=this.get("starttag")+t+this.get("endtag"),this.editor.focus(),this.get("host").insertContentAtFocusPoint(t),this.markUpdated()}},{ATTRS:{starttag:{value:""},endtag:{value:""}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});